# ──────────────────────────────────────────────────────────────────────────────
# ZOARK OS — Environment Variables
# Copy this file to .env and fill in the values you need.
# ──────────────────────────────────────────────────────────────────────────────

# ── Database & Redis ────────────────────────────────────────────────────────
DATABASE_URL=postgresql://zoark:zoark@localhost:5432/zoark
REDIS_URL=redis://localhost:6379

# ── Security & Authentication ───────────────────────────────────────────────
# JWT secret - MUST be set in production (generate with: openssl rand -hex 32)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Encryption key for API keys - MUST be set in production
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=

# ── OAuth Providers ─────────────────────────────────────────────────────────
# Google OAuth (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/oauth/callback/google

# GitHub OAuth (https://github.com/settings/developers)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://localhost:8000/oauth/callback/github

# Microsoft OAuth (https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps)
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_REDIRECT_URI=http://localhost:8000/oauth/callback/microsoft

# ── Monitoring ──────────────────────────────────────────────────────────────
# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# ── Rate Limiting ───────────────────────────────────────────────────────────
RATE_LIMIT_REQUESTS_PER_MINUTE=120

# ── Frontend URL ────────────────────────────────────────────────────────────
FRONTEND_URL=http://localhost:3000

# ── Email ───────────────────────────────────────────────────────────────────
# Choose ONE provider below.  The others can be left blank.
#
# EMAIL_PROVIDER   smtp | sendgrid | resend   (default: smtp)

EMAIL_PROVIDER=smtp

# ── SMTP (works with Gmail, Outlook, Yahoo, Proton, Zoho, iCloud, or any
#          custom SMTP server) ────────────────────────────────────────────────
#
# SMTP_HOST accepts a short preset name OR a full hostname:
#   Preset names: gmail | outlook | office365 | yahoo | hotmail | proton | zoho | icloud
#   Custom:       smtp.yourcompany.com
#
# Gmail setup:
#   1. Go to https://myaccount.google.com/security
#   2. Enable 2-Step Verification (if not already on)
#   3. Click "2-Step Verification" → scroll down → "App passwords"
#   4. Select App = Mail, Device = Windows Computer → Generate
#   5. Copy the 16-character password below
#
# Outlook / Office 365 setup:
#   1. Go to https://account.microsoft.com/security
#   2. Enable 2-Step Verification
#   3. Click "Advanced security" → "App passwords" → Add
#   4. Copy the generated password below
#   NOTE: Some corporate tenants block app passwords; contact IT if it fails.
#
# Yahoo setup:
#   1. Sign in → Account Security (https://login.yahoo.com/account/security)
#   2. Enable 2-Step Verification
#   3. Generate an app password and copy it below
#
# Proton Mail setup:
#   1. Sign in → Settings → Account → Recovery & security
#   2. Enable 2FA
#   3. Settings → Account → IMAP/SMTP → Generate password
#
# Zoho setup:
#   1. Sign in → Settings → Account → Security → App Passwords
#   2. Generate and copy the password below
#
# iCloud setup:
#   1. Go to https://appleid.apple.com → Sign In → Security → App Passwords
#   2. Generate an app password and copy it below

SMTP_HOST=gmail                # preset name or full hostname
SMTP_PORT=587                  # 587 (STARTTLS) or 465 (SSL)
SMTP_USER=you@gmail.com        # your full email address
SMTP_PASSWORD=                 # app password (NOT your account password)

# ── SendGrid (no credit card needed for 100 emails/day) ─────────────────────
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# ── Resend (free tier: 100 emails/month) ────────────────────────────────────
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# RESEND_FROM_EMAIL=noreply@yourdomain.com

# ── Alert Inbox ─────────────────────────────────────────────────────────────
# Receives system alerts (task-stuck notifications, etc.)
ALERT_EMAIL=alerts@yourdomain.com

# ── LLM ─────────────────────────────────────────────────────────────────────
# Leave blank to use mock/fallback mode (no API calls made)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ── Vector DB (Pinecone) ────────────────────────────────────────────────────
# Leave blank to use in-memory mock store
PINECONE_API_KEY=
PINECONE_INDEX_NAME=zoark-documents

# ── Backend (CORS) ──────────────────────────────────────────────────────────
# CORS_ORIGIN tells the FastAPI backend which frontend URL it is allowed to
# talk to.  In local dev this is http://localhost:3000 (Next.js dev server).
# When you deploy to production, change this to your live Next.js URL, e.g.:
#   CORS_ORIGIN=https://zoark-os.vercel.app
# You can comma-separate multiple origins if needed:
#   CORS_ORIGIN=http://localhost:3000,https://zoark-os.vercel.app
CORS_ORIGIN=http://localhost:3000

# ── Frontend ────────────────────────────────────────────────────────────────
# The Next.js app uses this to reach the FastAPI backend.
# During local development the default (http://localhost:8000) works.
# In production set this to your deployed FastAPI URL, e.g.:
#   NEXT_PUBLIC_API_URL=https://zoark-api.railway.app
NEXT_PUBLIC_API_URL=http://localhost:8000
